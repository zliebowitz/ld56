[gd_scene load_steps=21 format=4 uid="uid://c5cff1stfno0j"]

[ext_resource type="Texture2D" uid="uid://btue1udj2y7bs" path="res://Assets/Tiles/Grassland.png" id="1_72vrb"]
[ext_resource type="Script" path="res://Assets/Scripts/main.gd" id="1_ii4nv"]
[ext_resource type="TileSet" uid="uid://cxdns6mau5abj" path="res://Assets/Tiles/TileMapLayerTileset.tres" id="2_0ak7v"]
[ext_resource type="Script" path="res://Assets/Scripts/tilemap.gd" id="2_fvnuu"]
[ext_resource type="Texture2D" uid="uid://iq2vdmbaleq2" path="res://Assets/Tiles/Water.png" id="2_v1vw5"]
[ext_resource type="Script" path="res://Assets/Scripts/UI.gd" id="4_j5su3"]
[ext_resource type="PackedScene" uid="uid://78dhmemtgfvq" path="res://Assets/Scenes/ui_tile.tscn" id="5_mvtnu"]
[ext_resource type="PackedScene" uid="uid://dwuqnyq27mhvs" path="res://Assets/Scenes/nut.tscn" id="6_bbixn"]
[ext_resource type="Script" path="res://Assets/Scripts/ui_animal.gd" id="11_gm37g"]
[ext_resource type="Texture2D" uid="uid://csyxanvy6pk00" path="res://Graphics/Squirrel/Squirrel Idle.png" id="11_p7808"]
[ext_resource type="PackedScene" uid="uid://knj83fof2f5h" path="res://Assets/Scripts/Animals/Squirrel.tscn" id="11_w0jgb"]
[ext_resource type="PackedScene" uid="uid://bwagknfgqewx3" path="res://Assets/Scripts/Animals/Hawk.tscn" id="12_4q3w6"]
[ext_resource type="Texture2D" uid="uid://8b6jbsbvouq2" path="res://Graphics/Hawk/Idle/hawk_idle1.png" id="15_iqjxc"]
[ext_resource type="Texture2D" uid="uid://c15krn1iopjih" path="res://Graphics/Rabbit/Rabbit.png" id="17_22cp1"]
[ext_resource type="Texture2D" uid="uid://crhkx7ku4vfne" path="res://Graphics/DNA.png" id="17_v0bhs"]
[ext_resource type="AudioStream" uid="uid://bobbyjsp1xlcb" path="res://Assets/Audio/Music/BGM.wav" id="18_3bs1d"]
[ext_resource type="PackedScene" uid="uid://dxhnvxkn78rnb" path="res://Assets/Scripts/Animals/Rabbit.tscn" id="18_055kk"]

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_ajo5h"]
scenes/0/scene = ExtResource("6_bbixn")

[sub_resource type="TileSet" id="TileSet_8s1cn"]
tile_size = Vector2i(32, 32)
sources/0 = SubResource("TileSetScenesCollectionSource_ajo5h")

[sub_resource type="AtlasTexture" id="AtlasTexture_ucedu"]
atlas = ExtResource("11_p7808")
region = Rect2(0, 0, 16, 16)

[node name="Main" type="Node2D"]
script = ExtResource("1_ii4nv")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAACAAQAAgACAAEAAAACAAUAAgACAAEAAAACAAYAAgACAAEAAAACAAcAAgACAAEAAAACAAgAAgACAAEAAAACAAkAAgACAAEAAAACAAoAAgACAAEAAAACAAsAAgACAAEAAAACAAwAAgACAAEAAAACAA0AAgACAAEAAAADAAQAAQACAAEAAAADAAUAAQACAAEAAAADAAYAAgACAAEAAAADAAcAAQACAAEAAAADAAgAAQACAAEAAAADAAkAAQACAAEAAAADAAoAAQACAAEAAAADAAsAAQACAAEAAAADAAwAAQACAAEAAAADAA0AAgACAAEAAAAEAAQAAAACAAEAAAAEAAUAAAACAAEAAAAEAAYAAgACAAEAAAAEAAcAAAACAAEAAAAEAAgAAAACAAEAAAAEAAkAAAACAAEAAAAEAAoAAAACAAEAAAAEAAsAAAACAAEAAAAEAAwAAQACAAEAAAAEAA0AAgACAAEAAAAFAAQAAAACAAEAAAAFAAUAAAACAAEAAAAFAAYAAgACAAEAAAAFAAcAAAACAAEAAAAFAAgAAAACAAEAAAAFAAkAAAACAAEAAAAFAAoAAAACAAEAAAAFAAsAAAACAAEAAAAFAAwAAQACAAEAAAAFAA0AAgACAAEAAAAGAAQAAAACAAEAAAAGAAUAAAACAAEAAAAGAAYAAAACAAEAAAAGAAcAAAACAAEAAAAGAAgAAAACAAEAAAAGAAkAAAACAAEAAAAGAAoAAwAAAAAAAQAGAAsAAAACAAEAAAAGAAwAAQACAAEAAAAGAA0AAgACAAEAAAAHAAQAAwAAAAAAAQAHAAUAAAACAAEAAAAHAAYAAAACAAEAAAAHAAcAAAACAAEAAAAHAAgAAAACAAEAAAAHAAkAAAACAAEAAAAHAAsAAAACAAEAAAAHAAwAAQACAAEAAAAHAA0AAgACAAEAAAAIAAQAAAACAAEAAAAIAAUAAAACAAEAAAAIAAYAAAACAAEAAAAIAAcAAAACAAEAAAAIAAgAAAACAAEAAAAIAAkAAAACAAEAAAAIAAoAAAACAAEAAAAIAAsAAAACAAEAAAAIAAwAAQACAAEAAAAIAA0AAgACAAEAAAAJAAQAAAACAAEAAAAJAAUAAAACAAEAAAAJAAYAAAACAAEAAAAJAAcAAgACAAEAAAAJAAgAAAACAAEAAAAJAAkAAAACAAEAAAAJAAoAAAACAAEAAAAJAAsAAAACAAEAAAAJAAwAAQACAAEAAAAJAA0AAgACAAEAAAAKAAQAAAACAAEAAAAKAAUAAAACAAEAAAAKAAYAAAACAAEAAAAKAAcAAAACAAEAAAAKAAgAAAACAAEAAAAKAAkAAAACAAEAAAAKAAoAAAACAAEAAAAKAAsAAAACAAEAAAAKAAwAAQACAAEAAAAKAA0AAgACAAEAAAALAAQAAAACAAEAAAALAAUAAAACAAEAAAALAAYAAAACAAEAAAALAAcAAAACAAEAAAALAAgAAAACAAEAAAALAAkAAAACAAEAAAALAAoAAAACAAEAAAALAAsAAAACAAEAAAALAAwAAQACAAEAAAALAA0AAgACAAEAAAAMAAQAAAACAAEAAAAMAAUAAAACAAEAAAAMAAYAAAACAAEAAAAMAAcAAAACAAEAAAAMAAgAAAACAAEAAAAMAAkAAAACAAEAAAAMAAoAAAACAAEAAAAMAAsAAAACAAEAAAAMAAwAAQACAAEAAAAMAA0AAgACAAEAAAANAAQAAAACAAEAAAANAAUAAAACAAEAAAANAAYAAAACAAEAAAANAAcAAwAAAAAAAQANAAgAAAACAAEAAAANAAkAAAACAAEAAAANAAoAAAACAAEAAAANAAsAAAACAAEAAAANAAwAAQACAAEAAAANAA0AAgACAAEAAAAOAAQAAgACAAEAAAAOAAUAAAACAAEAAAAOAAYAAAACAAEAAAAOAAcAAAACAAEAAAAOAAgAAAACAAEAAAAOAAkAAAACAAEAAAAOAAoAAAACAAEAAAAOAAsAAAACAAEAAAAOAAwAAQACAAEAAAAOAA0AAgACAAEAAAAPAAQAAAACAAEAAAAPAAUAAAACAAEAAAAPAAYAAAACAAEAAAAPAAcAAAACAAEAAAAPAAgAAAACAAEAAAAPAAkAAAACAAEAAAAPAAoAAAACAAEAAAAPAAsAAAACAAEAAAAPAAwAAQACAAEAAAAPAA0AAgACAAEAAAAQAAQAAAACAAEAAAAQAAUAAAACAAEAAAAQAAYAAAACAAEAAAAQAAcAAAACAAEAAAAQAAgAAAACAAEAAAAQAAkAAAACAAEAAAAQAAoAAAACAAEAAAAQAAsAAAACAAEAAAAQAAwAAQACAAEAAAAQAA0AAgACAAEAAAARAAQAAAACAAEAAAARAAUAAAACAAEAAAARAAYAAAACAAEAAAARAAcAAgACAAEAAAARAAgAAAACAAEAAAARAAkAAAACAAEAAAARAAoAAAACAAEAAAARAAsAAAACAAEAAAARAAwAAQACAAEAAAARAA0AAgACAAEAAAASAAQAAAACAAEAAAASAAUAAAACAAEAAAASAAYAAAACAAEAAAASAAcAAAACAAEAAAASAAgAAAACAAEAAAASAAkAAAACAAEAAAASAAoAAAACAAEAAAASAAsAAAACAAEAAAASAAwAAQACAAEAAAASAA0AAgACAAEAAAATAAQAAAACAAEAAAATAAUAAAACAAEAAAATAAYAAAACAAEAAAATAAcAAAACAAEAAAATAAgAAAACAAEAAAATAAkAAAACAAEAAAATAAoAAAACAAEAAAATAAsAAAACAAEAAAATAAwAAQACAAEAAAATAA0AAgACAAEAAAAUAAQAAwAAAAAAAQAUAAUAAAACAAEAAAAUAAYAAAACAAEAAAAUAAcAAAACAAEAAAAUAAgAAAACAAEAAAAUAAkAAAACAAEAAAAUAAoAAAACAAEAAAAUAAsAAAADAAQAAAAUAAwAAQACAAEAAAAUAA0AAgACAAEAAAAVAAQAAAACAAEAAAAVAAUAAAACAAEAAAAVAAYAAAACAAEAAAAVAAcAAAACAAEAAAAVAAgAAAACAAEAAAAVAAkAAAACAAEAAAAVAAoAAwAAAAAAAQAVAAsAAAADAAQAAAAVAAwAAQACAAEAAAAVAA0AAgACAAEAAAAWAAQAAAACAAEAAAAWAAUAAAACAAEAAAAWAAYAAAACAAEAAAAWAAcAAAACAAEAAAAWAAgAAAACAAEAAAAWAAkAAAACAAEAAAAWAAoAAAACAAEAAAAWAAsAAAACAAEAAAAWAAwAAQACAAEAAAAWAA0AAgACAAEAAAAXAAQAAAACAAEAAAAXAAUAAAACAAEAAAAXAAYAAAACAAEAAAAXAAcAAAACAAEAAAAXAAgAAAACAAEAAAAXAAkAAAACAAEAAAAXAAoAAAACAAEAAAAXAAsAAAACAAEAAAAXAAwAAQACAAEAAAAXAA0AAgACAAEAAAAYAAQAAAACAAEAAAAYAAUAAAACAAEAAAAYAAYAAAACAAEAAAAYAAcAAAACAAEAAAAYAAgAAAACAAEAAAAYAAkAAAACAAEAAAAYAAoAAAACAAEAAAAYAAsAAAACAAEAAAAYAAwAAQACAAEAAAAYAA0AAgACAAEAAAAZAAQAAgACAAEAAAAZAAUAAgACAAEAAAAZAAYAAgACAAEAAAAZAAcAAAACAAEAAAAZAAgAAgACAAEAAAAZAAkAAgACAAEAAAAZAAoAAAACAAEAAAAZAAsAAAACAAEAAAAZAAwAAQACAAEAAAAZAA0AAgACAAEAAAAaAAQAAgACAAEAAAAaAAUAAgACAAEAAAAaAAYAAgACAAEAAAAaAAcAAgACAAEAAAAaAAgAAgACAAEAAAAaAAkAAgACAAEAAAAaAAoAAgACAAEAAAAaAAsAAgACAAEAAAAaAAwAAgACAAEAAAAaAA0AAgACAAEAAAAIAAMAAAACAAEAAAAOAAMAAAACAAEAAAARAAMAAAACAAEAAAAZAAMAAAACAAEAAAATAAMAAAACAAEAAAAUAAMAAAACAAEAAAAVAAMAAAACAAEAAAAWAAMAAAACAAEAAAAHAAMAAAACAAEAAAAHAAIAAQACAAEAAAAIAAIAAQACAAEAAAAJAAIAAQACAAEAAAAJAAMAAAACAAEAAAACAAMAAgACAAEAAAACAAIAAgACAAEAAAACAAEAAgACAAEAAAADAAEAAgACAAEAAAAEAAEAAgACAAEAAAAFAAEAAgACAAEAAAAGAAEAAgACAAEAAAAHAAEAAgACAAEAAAAIAAEAAgACAAEAAAAJAAEAAgACAAEAAAAKAAEAAgACAAEAAAALAAEAAgACAAEAAAAMAAEAAgACAAEAAAANAAEAAgACAAEAAAAOAAEAAgACAAEAAAAPAAEAAgACAAEAAAAQAAEAAgACAAEAAAARAAEAAgACAAEAAAASAAEAAgACAAEAAAATAAEAAgACAAEAAAAUAAEAAgACAAEAAAAVAAEAAgACAAEAAAAWAAEAAgACAAEAAAAXAAEAAgACAAEAAAAYAAEAAgACAAEAAAAZAAEAAgACAAEAAAAaAAEAAgACAAEAAAAaAAIAAgACAAEAAAAaAAMAAgACAAEAAAADAAIAAQACAAEAAAADAAMAAQACAAEAAAAEAAIAAQACAAEAAAAFAAIAAQACAAEAAAAGAAIAAQACAAEAAAAKAAIAAQACAAEAAAALAAIAAQACAAEAAAAMAAIAAQACAAEAAAANAAIAAQACAAEAAAAOAAIAAQACAAEAAAAPAAIAAQACAAEAAAAQAAIAAQACAAEAAAARAAIAAQACAAEAAAASAAIAAQACAAEAAAATAAIAAQACAAEAAAAUAAIAAQACAAEAAAAVAAIAAQACAAEAAAAWAAIAAQACAAEAAAAXAAIAAQACAAEAAAAYAAIAAQACAAEAAAAZAAIAAQACAAEAAAAEAAMAAAACAAEAAAAFAAMAAAACAAEAAAAGAAMAAAACAAEAAAALAAMAAAACAAEAAAAMAAMAAAACAAEAAAAKAAMAAAACAAEAAAANAAMAAAACAAEAAAAPAAMAAAACAAEAAAAQAAMAAAACAAEAAAASAAMAAAACAAEAAAAXAAMAAAACAAEAAAAYAAMAAAACAAEAAAAHAAoAAAACAAEAAAA=")
tile_set = ExtResource("2_0ak7v")
script = ExtResource("2_fvnuu")
tile_size = Vector2(32, 32)
map_size = Vector2(28, 15)

[node name="SpriteLayer" type="TileMapLayer" parent="TileMapLayer"]
z_index = -1
y_sort_enabled = true
tile_set = SubResource("TileSet_8s1cn")

[node name="BorderLayer" type="TileMapLayer" parent="TileMapLayer"]
y_sort_enabled = true
tile_set = ExtResource("2_0ak7v")

[node name="CanvasLayer" type="CanvasLayer" parent="." node_paths=PackedStringArray("gridcontainer", "tilemap")]
script = ExtResource("4_j5su3")
gridcontainer = NodePath("GridContainer")
tilemap = NodePath("../TileMapLayer")

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -52.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 8
size_flags_vertical = 8
color = Color(0.403922, 0.509804, 0, 1)

[node name="GridContainer" type="GridContainer" parent="CanvasLayer"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -52.0
offset_top = -68.0
offset_right = 52.0
grow_horizontal = 2
grow_vertical = 0
size_flags_horizontal = 4
size_flags_vertical = 8
columns = 3

[node name="UI_Tile" parent="CanvasLayer/GridContainer" instance=ExtResource("5_mvtnu")]
layout_mode = 2
texture = ExtResource("1_72vrb")
tile_name = "Grass"
description = "This is Grass!"

[node name="UI_Tile2" parent="CanvasLayer/GridContainer" instance=ExtResource("5_mvtnu")]
layout_mode = 2
texture = ExtResource("2_v1vw5")
tile_name = "Water"
tile_id = 2
description = "This is Water!"

[node name="UI_Squirrel" type="TextureRect" parent="CanvasLayer/GridContainer" node_paths=PackedStringArray("animal_parent")]
layout_mode = 2
texture = SubResource("AtlasTexture_ucedu")
expand_mode = 2
script = ExtResource("11_gm37g")
animal_name = "Squirrel"
animal_resource = ExtResource("11_w0jgb")
description = "It is a squirrel!"
animal_parent = NodePath("../../../Animals/Squirrels")

[node name="Ui_Hawks" type="TextureRect" parent="CanvasLayer/GridContainer" node_paths=PackedStringArray("animal_parent")]
layout_mode = 2
texture = ExtResource("15_iqjxc")
expand_mode = 4
script = ExtResource("11_gm37g")
animal_name = "Hawk"
animal_resource = ExtResource("12_4q3w6")
description = "It's a hawk!"
animal_parent = NodePath("../../../Animals/Hawks")

[node name="Ui_Hawks2" type="TextureRect" parent="CanvasLayer/GridContainer" node_paths=PackedStringArray("animal_parent")]
layout_mode = 2
texture = ExtResource("17_22cp1")
expand_mode = 4
script = ExtResource("11_gm37g")
animal_name = "Rabbit"
animal_resource = ExtResource("18_055kk")
description = "It's a Rabbit!"
animal_parent = NodePath("../../../Animals/Hawks")

[node name="Description" type="ColorRect" parent="CanvasLayer"]
visible = false
offset_left = 834.0
offset_top = 450.0
offset_right = 915.0
offset_bottom = 528.0
mouse_filter = 2
color = Color(0, 0, 0, 1)

[node name="TileName" type="RichTextLabel" parent="CanvasLayer/Description"]
layout_mode = 0
offset_right = 80.0
offset_bottom = 24.0

[node name="TileDescription" type="RichTextLabel" parent="CanvasLayer/Description"]
layout_mode = 0
offset_top = 30.0
offset_right = 80.0
offset_bottom = 79.0

[node name="Currency" type="HBoxContainer" parent="CanvasLayer"]
custom_minimum_size = Vector2(100, 50)
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 40.0
grow_vertical = 0

[node name="CurrencyImage" type="TextureRect" parent="CanvasLayer/Currency"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8
texture = ExtResource("17_v0bhs")

[node name="CurrencyCount" type="Label" parent="CanvasLayer/Currency"]
custom_minimum_size = Vector2(50, 0)
layout_mode = 2
size_flags_horizontal = 4
text = "0
"

[node name="Animals" type="Node" parent="."]

[node name="Squirrels" type="Node" parent="Animals"]

[node name="Hawks" type="Node" parent="Animals"]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("18_3bs1d")
autoplay = true

[connection signal="tile_placed" from="TileMapLayer" to="CanvasLayer" method="_on_tile_map_layer_tile_placed"]
[connection signal="ui_tile_selected" from="CanvasLayer/GridContainer/UI_Tile" to="CanvasLayer" method="_on_ui_tile_selected"]
[connection signal="ui_tile_selected" from="CanvasLayer/GridContainer/UI_Tile2" to="CanvasLayer" method="_on_ui_tile_selected"]
[connection signal="gui_input" from="CanvasLayer/GridContainer/UI_Squirrel" to="CanvasLayer/GridContainer/UI_Squirrel" method="_on_gui_input"]
[connection signal="ui_animal_selected" from="CanvasLayer/GridContainer/UI_Squirrel" to="CanvasLayer" method="_on_animal_selected"]
[connection signal="gui_input" from="CanvasLayer/GridContainer/Ui_Hawks" to="CanvasLayer/GridContainer/Ui_Hawks" method="_on_gui_input"]
[connection signal="ui_animal_selected" from="CanvasLayer/GridContainer/Ui_Hawks" to="CanvasLayer" method="_on_animal_selected"]
[connection signal="gui_input" from="CanvasLayer/GridContainer/Ui_Hawks2" to="CanvasLayer/GridContainer/Ui_Hawks2" method="_on_gui_input"]
[connection signal="ui_animal_selected" from="CanvasLayer/GridContainer/Ui_Hawks2" to="CanvasLayer" method="_on_animal_selected"]
